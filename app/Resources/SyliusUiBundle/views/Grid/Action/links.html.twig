{% set visible = options.visible is defined ? options.visible : true %}
{% set labeled = options.labeled is defined ? options.labeled : true %}

{% if visible %}
    <div class="ui mini{% if options.icon is defined %} {% if labeled %}labeled {% endif %} icon{% endif %} floating dropdown {{ options.class|default('') }} link button" {% if not labeled %}data-tooltip="{{ action.label|trans }}" data-inverted{% endif %}>
        {% if options.icon is defined %}<i class="{{ options.icon }} icon"></i>{% endif %}

        {% if labeled %}
            <span class="text">{{ action.label|trans }}</span>
        {% endif %}

        <div class="menu">
            {% if options.header is defined %}
            <div class="header">
                {% if options.header.icon is defined %}<i class="{{ options.header.icon }} icon"></i>{% endif %}
                {{ options.header.label|trans }}
            </div>
            <div class="divider"></div>
            {% endif %}
            {% for link in options.links %}
                {% set is_link_visible = link.visible is defined ? link.visible : true %}

                {% if is_link_visible %}
                    {% include '@SyliusUi/Grid/Action/_link.html.twig' %}
                {% endif %}
            {% endfor %}
        </div>
    </div>
{% endif %}
